library(tidyverse)
# knitr options
knitr::opts_chunk$set(echo = TRUE)
?diamonds
glimpse(diamonds)
## TODO: Complete this code
ggplot(diamonds)
## TODO: Complete this code
ggplot(diamonds) +
geom_point(aes(x = carat, y = price))
## TODO: Complete this code
ggplot(diamonds) +
geom_point(aes(x = carat, y= price, color = cut))
library(tidyverse)
## TASK: Plot `price` vs `carat` below
## Your code here!
ggplot(diamonds) +
geom_point(aes(x= carat, y = price))
## TASK: Plot `price`, `carat`, and `cut` below
## Your code here!
ggplot(diamonds) +
geom_point(aes(x= carat, y = price, color = cut))
library(tidyverse)
## TASK: Plot `price` vs `carat` below
## Your code here!
diamonds %>%
ggplot(aes(carat, price)) +
geom_point()
## TASK: Plot `price`, `carat`, and `cut` below
## Your code here!
diamonds %>%
ggplot(aes(carat, price, color = cut)) +
geom_point()
# Libraries
library(tidyverse)
library(googlesheets4)
url <- "https://docs.google.com/spreadsheets/d/1av_SXn4j0-4Rk0mQFik3LLr-uf0YdA06i3ugE6n-Zdo/edit?usp=sharing"
# Parameters
LIGHTSPEED_VACUUM    <- 299792.458 # Exact speed of light in a vacuum (km / s)
LIGHTSPEED_MICHELSON <- 299944.00  # Michelson's speed estimate (km / s)
LIGHTSPEED_PM        <- 51         # Michelson error estimate (km / s)
## Note: No need to edit this chunk!
gs4_deauth()
ss <- gs4_get(url)
df_michelson <-
read_sheet(ss) %>%
select(Date, Distinctness, Temp, Velocity) %>%
mutate(Distinctness = as_factor(Distinctness))
df_michelson %>% glimpse
## TODO: Compute summaries
df_q1 <-
df_michelson %>%
group_by(Distinctness) %>%
summarize(n=n(), MeanVelocity = mean(Velocity))
df_q1 %>%
arrange(desc(Distinctness)) %>%
knitr::kable()
## TODO: Adjust the data, assign to df_q2
df_q2 <-
df_michelson %>%
mutate(
VelocityVacuum=Velocity+92
)
df_q2
## TODO: Compare Michelson's estimate and error against the true value
## Your code here!
True_error=LIGHTSPEED_VACUUM - LIGHTSPEED_MICHELSON
LIGHTSPEED_PM
True_error
## Note: No need to edit this chunk!
## Calibrate simulated data
v_mean <-
df_q2 %>%
summarize(m = mean(VelocityVacuum)) %>%
pull(m)
v_sd <-
df_q2 %>%
summarize(s = sd(VelocityVacuum)) %>%
pull(s)
## Visualize
set.seed(101)
df_q2 %>%
mutate(Simulated = rnorm(n(), mean = v_mean, sd = v_sd)) %>%
rename(Real = VelocityVacuum) %>%
pivot_longer(
cols = c(Simulated, Real),
names_to = "source",
values_to = "velocity"
) %>%
ggplot(aes(Date, velocity)) +
geom_hline(
yintercept = LIGHTSPEED_MICHELSON,
linetype = "dotted"
) +
geom_hline(
yintercept = LIGHTSPEED_MICHELSON - LIGHTSPEED_PM,
linetype = "dashed"
) +
geom_hline(
yintercept = LIGHTSPEED_MICHELSON + LIGHTSPEED_PM,
linetype = "dashed"
) +
geom_line(
data = . %>%
group_by(Date, source) %>%
summarize(velocity_mean = mean(velocity)),
mapping = aes(y = velocity_mean),
color = "grey50"
) +
geom_point(
mapping = aes(y = velocity),
size = 0.8
) +
facet_grid(source~.) +
theme_minimal() +
labs(
x = "Date of Measurement (1879)",
y = "Velocity (in Vacuum)"
)
v_mean <-
df_q2 %>%
summarize(m = mean(VelocityVacuum)) %>%
pull(m)
v_sd <-
df_q2 %>%
summarize(s = sd(VelocityVacuum)) %>%
pull(s)
## Visualize
set.seed(101)
df_q2 %>%
mutate(Simulated = rnorm(n(), mean = v_mean, sd = v_sd)) %>%
rename(Real = VelocityVacuum) %>%
pivot_longer(
cols = c(Real),
names_to = "source",
values_to = "velocity"
) %>%
ggplot(aes(Temp, velocity)) +
geom_hline(
yintercept = LIGHTSPEED_MICHELSON,
linetype = "dotted"
) +
geom_hline(
yintercept = LIGHTSPEED_MICHELSON - LIGHTSPEED_PM,
linetype = "dashed"
) +
geom_hline(
yintercept = LIGHTSPEED_MICHELSON + LIGHTSPEED_PM,
linetype = "dashed"
) +
geom_line(
data = . %>%
group_by(Temp, source) %>%
summarize(velocity_mean = mean(velocity)),
mapping = aes(y = velocity_mean),
color = "grey50"
) +
geom_point(
mapping = aes(y = velocity),
size = 0.8
) +
facet_grid(source~.) +
theme_minimal() +
labs(
x = "Distinctness of Measurement",
y = "Velocity (in Vacuum)"
)
set.seed(101)
df_q2 %>%
mutate(Simulated = rnorm(n(), mean = v_mean, sd = v_sd)) %>%
rename(Real = VelocityVacuum) %>%
pivot_longer(
cols = c(Real),
names_to = "source",
values_to = "velocity"
) %>%
ggplot(aes(Distinctness, velocity)) +
geom_hline(
yintercept = LIGHTSPEED_MICHELSON,
linetype = "dotted"
) +
geom_hline(
yintercept = LIGHTSPEED_MICHELSON - LIGHTSPEED_PM,
linetype = "dashed"
) +
geom_hline(
yintercept = LIGHTSPEED_MICHELSON + LIGHTSPEED_PM,
linetype = "dashed"
) +
geom_line(
data = . %>%
group_by(Distinctness, source) %>%
summarize(velocity_mean = mean(velocity)),
mapping = aes(y = velocity_mean),
color = "grey50"
) +
geom_point(
mapping = aes(y = velocity),
size = 0.8
) +
facet_grid(source~.) +
theme_minimal() +
labs(
x = "Distinctness of Measurement",
y = "Velocity (in Vacuum)"
)
df_q2 %>%
mutate(Simulated = rnorm(n(), mean = v_mean, sd = v_sd)) %>%
rename(Real = VelocityVacuum) %>%
pivot_longer(
cols = c(Real),
names_to = "source",
values_to = "velocity"
) %>%
ggplot(aes(Distinctness, Date)) +
geom_hline(
yintercept = LIGHTSPEED_MICHELSON,
linetype = "dotted"
) +
geom_hline(
yintercept = LIGHTSPEED_MICHELSON - LIGHTSPEED_PM,
linetype = "dashed"
) +
geom_hline(
yintercept = LIGHTSPEED_MICHELSON + LIGHTSPEED_PM,
linetype = "dashed"
) +
geom_line(
data = . %>%
group_by(Distinctness, source) %>%
summarize(velocity_mean = mean(velocity)),
mapping = aes(y = velocity_mean),
color = "grey50"
) +
geom_point(
mapping = aes(y = velocity),
size = 0.8
) +
facet_grid(source~.) +
theme_minimal() +
labs(
x = "Distinctness of Measurement",
y = "Velocity (in Vacuum)"
)
df_q2 %>%
mutate(Simulated = rnorm(n(), mean = v_mean, sd = v_sd)) %>%
rename(Real = VelocityVacuum) %>%
pivot_longer(
cols = c(Real),
names_to = "source",
values_to = "velocity"
) %>%
ggplot(aes(Distinctness, Date)) +
geom_line(
data = . %>%
group_by(Distinctness, source) %>%
summarize(velocity_mean = mean(velocity)),
mapping = aes(y = velocity_mean),
color = "grey50"
) +
facet_grid(source~.) +
theme_minimal() +
labs(
x = "Distinctness of Measurement",
y = "Velocity (in Vacuum)"
)
df_q2 %>%
mutate(Simulated = rnorm(n(), mean = v_mean, sd = v_sd)) %>%
rename(Real = VelocityVacuum) %>%
pivot_longer(
cols = c(Real),
names_to = "source",
values_to = "velocity"
) %>%
ggplot(aes(Date, Distinctness)) +
facet_grid(source~.) +
theme_minimal() +
labs(
x = "Distinctness of Measurement",
y = "Velocity (in Vacuum)"
)
df_q2 %>%
mutate(Simulated = rnorm(n(), mean = v_mean, sd = v_sd)) %>%
rename(Real = VelocityVacuum) %>%
pivot_longer(
cols = c(Real),
names_to = "source",
values_to = "velocity"
) %>%
ggplot(aes(Date, Distinctness)) +
geom_line(
data = . %>%
group_by(Distinctness, source) %>%
mapping = aes(y = Distinctness),
# knitr options
knitr::opts_chunk$set(echo = TRUE)
diamonds %>%
## TODO: Use mutate to add the column `carat_cut`
ggplot(aes(x = carat_cut, y = price)) +
geom_boxplot()
# knitr options
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(tidyverse)
diamonds %>%
## TODO: Use mutate to add the column `carat_cut`
ggplot(aes(x = carat_cut, y = price)) +
geom_boxplot()
diamonds %>%
## TODO: Use mutate to add the column `carat_cut`
ggplot(aes(x = carat_cut, y = price)) +
geom_boxplot()
diamonds %>%
## TODO: Use mutate to add the column `carat_cut`
ggplot(aes(x = carat_cut, y = price)) +
geom_boxplot()
?diamonds
diamonds %>%
## TODO: Use mutate to add the column `carat_cut`
mutate(carat_cut = cud_width(carat, width = 0.5, boundary = 0)) %>%
ggplot(aes(x = carat_cut, y = price)) +
geom_boxplot()
# knitr options
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
diamonds %>%
## TODO: Use mutate to add the column `carat_cut`
mutate(carat_cut = cud_width(carat, width = 0.5, boundary = 0)) %>%
ggplot(aes(x = carat_cut, y = price)) +
geom_boxplot()
diamonds %>%
## TODO: Use mutate to add the column `carat_cut`
mutate(carat_cut = cut_width(carat, width = 0.5, boundary = 0)) %>%
ggplot(aes(x = carat_cut, y = price)) +
geom_boxplot()
